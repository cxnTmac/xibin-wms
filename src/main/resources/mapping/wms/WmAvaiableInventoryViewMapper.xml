<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xibin.wms.dao.WmAvaiableInventoryViewMapper" >
    <resultMap  type="Map" id="ResultMap" >
        <id column="id" property="id" jdbcType="INTEGER" />
        <result column="sku_code" property="skuCode" jdbcType="VARCHAR" />
        <result column="alloc_num" property="allocNum" jdbcType="DOUBLE" />
        <result column="inv_num" property="invNum" jdbcType="DOUBLE" />
        <result column="inv_available_num" property="invAvailableNum" jdbcType="DOUBLE" />
        <result column="pre_assemble_num" property="preAssembleNum" jdbcType="DOUBLE" />
        <result column="total_price" property="totalPrice" jdbcType="DOUBLE" />
        <result column="company_id" property="companyId" jdbcType="INTEGER" />
        <result column="warehouse_id" property="warehouseId" jdbcType="INTEGER" />
    </resultMap>
    <select id="selectAllByPage" resultMap="ResultMap" resultType="java.util.List"  parameterType="Map" >
        SELECT
            waiv.id,
            waiv.sku_code,
            waiv.alloc_num,
            waiv.inv_num,
            waiv.inv_available_num,
            waiv.pre_assemble_num,
            waiv.total_price,
            waiv.company_id,
            waiv.warehouse_id
        FROM
        wm_avaiable_inventory_view waiv
        WHERE
        1=1
        <if test="skuCode!=null and skuCode!=''"> AND waiv.sku_code = #{skuCode}</if>
        <if test="companyId!=null and companyId!=''"> AND waiv.company_id = #{companyId}</if>
        <if test="warehouseId!=null and warehouseId!=''"> AND waiv.warehouse_id = #{warehouseId}</if>
    </select>

</mapper>